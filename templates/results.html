{% extends 'base.html' %}

{% block content %}
<div class="results-card">
    <h1>✅ Resultados del Procesamiento</h1>
    
    <div class="stats-grid">
        <div class="stat-card">
            <h3>Entrenamiento</h3>
            <div class="stat-number">{{ stats.train.rows }} filas</div>
            <div class="stat-percent">60%</div>
        </div>
        <div class="stat-card">
            <h3>Validación</h3>
            <div class="stat-number">{{ stats.val.rows }} filas</div>
            <div class="stat-percent">20%</div>
        </div>
        <div class="stat-card">
            <h3>Prueba</h3>
            <div class="stat-number">{{ stats.test.rows }} filas</div>
            <div class="stat-percent">20%</div>
        </div>
    </div>

    {% if stratify_column %}
    <p style="text-align: center; color: #003366; margin: 20px 0; font-size: 1.1em;">
        <strong>Columna para estratificación:</strong> {{ stratify_column }}
    </p>
    {% endif %}

    <div class="graphs">
        <div class="graph-container">
            <img src="data:image/png;base64,{{ graph1 }}" alt="Dataset Completo">
            <p class="graph-title">Dataset Completo</p>
        </div>
        <div class="graph-container">
            <img src="data:image/png;base64,{{ graph2 }}" alt="Entrenamiento">
            <p class="graph-title">Conjunto de Entrenamiento</p>
        </div>
        <div class="graph-container">
            <img src="data:image/png;base64,{{ graph3 }}" alt="Validación">
            <p class="graph-title">Conjunto de Validación</p>
        </div>
        <div class="graph-container">
            <img src="data:image/png;base64,{{ graph4 }}" alt="Prueba">
            <p class="graph-title">Conjunto de Prueba</p>
        </div>
    </div>

    <div style="text-align: center; margin-top: 30px;">
        <a href="/" class="back-btn">Procesar Otro Archivo</a>
    </div>
</div>
{% endblock %}